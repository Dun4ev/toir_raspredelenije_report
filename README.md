# Скрипт `toir_raspredelenije.py`

## 1. Назначение

Скрипт автоматизирует процесс сортировки и архивации файлов отчетов на основе информации, извлеченной из их имен. Он предназначен для работы с файлами, имеющими строго определенный формат имени, например `CT-DR-B-LP-BVS12-..._All.pdf`.

## 2. Принцип работы

1.  Скрипт сканирует подпапки в директории `INBOX_DIR`.
2.  В каждой подпапке он ищет уникальный PDF-файл, имя которого заканчивается на `_All.pdf`.
3.  Из имени этого файла он извлекает:
    - Год и месяц.
    - Тип (`LP` или `CS`).
    - Имя объекта (например, `BVS12`).
4.  На основе этих данных он выполняет следующие действия:
        - **Копирует** `_All.pdf` в папку `NOTES_DIR`.
    - Для папки `TRA_GST_DIR` применяется особое правило: файл копируется в подпапку, имя которой соответствует году и номеру недели (например, `2025_T38_GST`).
    - **Копирует** `_All.pdf` в целевую папку со сложной структурой, включающей год, месяц, тип и имя объекта (например, `2025/08.August/LP/pdf/BVS12/`).
    - **Архивирует** всю исходную подпапку в `.zip` архив.
    - **Перемещает** созданный архив в целевую папку `Native` (например, `2025/08.August/LP/Native/BVS12/`).

## 3. Требования и структура проекта

- **Python**: Версия 3.8 или новее.
- **Структура папок**: Все пути к папкам (`INBOX_DIR`, `NOTES_DIR` и т.д.) жестко прописаны в самом скрипте. Перед использованием их необходимо проверить и при необходимости отредактировать. Скрипт может находиться в своей собственной папке.

  ```
  .../toir_raspredelenije/
  ├── toir_raspredelenije.py   # Сам скрипт
  ├── toir_raspredelenije.md   # Этот файл
  └── test/                    # Папка с тестовыми данными, на которую указывают пути в скрипте
      └── ...
  ```

## 4. Использование

1.  Откройте файл `toir_raspredelenije.py` в текстовом редакторе.
2.  В секции `=== НАСТРОЙКИ ПУТЕЙ ===` укажите правильные пути к вашим рабочим папкам.
3.  Запустите скрипт: `python toir_raspredelenije.py`.
4.  Скрипт автоматически обработает все подпапки в `INBOX_DIR`.
